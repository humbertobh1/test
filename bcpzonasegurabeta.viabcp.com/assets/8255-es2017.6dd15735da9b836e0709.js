"use strict";(self.webpackChunkciam=self.webpackChunkciam||[]).push([[8255],{46528:function(e,t,n){n.r(t),n.d(t,{bcp_select_input:function(){return i}});var c=n(95240),l=n(91444);class i{constructor(e){(0,c.r)(this,e),this.didInit=!1,this.TAG_BCP_SELECT="BCP-SELECT",this.filledSelect=!1,this.filledInput=!1,this.focusSelectInput=!1,this.disabled=!1,this.inputmode="text",this.selectOptions=[],this.ctrlBlur=(0,c.c)(this,"ctrlBlur",7),this.ctrlChange=(0,c.c)(this,"ctrlChange",7),this.ctrlClick=(0,c.c)(this,"ctrlClick",7),this.ctrlDrop=(0,c.c)(this,"ctrlDrop",7),this.ctrlFocus=(0,c.c)(this,"ctrlFocus",7)}changeFocusSelectInput(){this.focusSelectInput?this.ctrlFocus.emit():this.ctrlBlur.emit()}ctrlValueChanged(){this.ctrlValue?(this.backupValue=Object.assign({},this.backupValue,this.ctrlValue),this.filledSelect=!!this.isValidValue(this.ctrlValue.selectValue),this.filledInput=!!this.ctrlValue.inputValue,this.bcpSelectElement&&JSON.stringify(this.ctrlValue.selectValue)!==JSON.stringify(this.bcpSelectElement.ctrlValue)&&(this.bcpSelectElement.ctrlValue=this.ctrlValue.selectValue),this.bcpInputElement&&this.ctrlValue.inputValue!==this.bcpInputElement.ctrlValue&&(this.bcpInputElement.ctrlValue=this.ctrlValue.inputValue||"")):(this.backupValue=Object.assign({},this.backupValue,{selectValue:null},{inputValue:""}),this.filledSelect=!1,this.filledInput=!1,this.bcpSelectElement&&(this.bcpSelectElement.ctrlValue=null),this.bcpInputElement&&(this.bcpInputElement.ctrlValue="")),(!this.ctrlValue||this.ctrlValue&&!this.ctrlValue.selectValue&&!this.ctrlValue.inputValue)&&(this.ctrlValue=null),JSON.stringify(this.lastCtrlValue)!==JSON.stringify(this.ctrlValue)&&(this.lastCtrlValue=this.ctrlValue,this.didInit&&this.ctrlChange.emit(this.ctrlValue))}selectOptionsChanged(){this.filledSelect=!(!this.bcpSelectElement||!this.isValidValue(this.bcpSelectElement.ctrlValue)),this.filledInput=!(!this.bcpInputElement||!this.bcpInputElement.ctrlValue)}componentWillLoad(){this.backupValue=Object.assign({selectValue:this.getSelectValue()},{inputValue:this.getInputValue()})}componentDidLoad(){this.bcpSelectElement&&this.bcpInputElement&&(this.bcpSelectElementName=this.bcpSelectElement.name,this.bcpInputElementName=this.bcpInputElement.name),this.backupValue.selectValue&&JSON.stringify(this.ctrlValue)!==JSON.stringify(this.backupValue)&&(this.ctrlValue=this.backupValue),this.ctrlValue&&this.bcpSelectElement&&JSON.stringify(this.ctrlValue.selectValue)!==JSON.stringify(this.bcpSelectElement.ctrlValue)&&(this.bcpSelectElement.ctrlValue=this.ctrlValue.selectValue),this.ctrlValue&&this.bcpInputElement&&this.ctrlValue.inputValue!==this.bcpInputElement.ctrlValue&&(this.bcpInputElement.ctrlValue=this.ctrlValue.inputValue||""),this.filledSelect=!(!this.bcpSelectElement||!this.isValidValue(this.bcpSelectElement.ctrlValue)),this.filledInput=!(!this.bcpInputElement||!this.bcpInputElement.ctrlValue),this.didInit=!0}onCtrlClick(e){e.stopPropagation(),this.setDropdownContentWidth(e),this.disabled||this.ctrlClick.emit()}onCtrlBlur(e){e.stopPropagation()}onCtrlFocus(e){e.stopPropagation(),this.focusSelectInput||(this.focusSelectInput=!0)}onCtrlDrop(e){e.stopPropagation(),this.ctrlDrop.emit()}setDropdownContentWidth(e){if(this.containerElement){const t=(0,l.f)(this.containerElement),n=e.target;n.tagName.toUpperCase()===this.TAG_BCP_SELECT&&(n.querySelector(".dropdown-menu").style.width=`${t}px`)}}isBlocked(){return this.disabled&&this.isCtrlValueFilled()}isCtrlValueFilled(){return!!this.ctrlValue&&!!this.ctrlValue.inputValue}classAttr(){return{selectInput:{class:{row:!0,"no-gutters":!0,"select-input-container":!0,invalid:!this.disabled&&"error"===this.state,disabled:this.disabled&&!this.isBlocked(),blocked:this.isBlocked(),focus:!this.disabled&&this.focusSelectInput,filled:!this.disabled&&!this.focusSelectInput&&this.filledSelect&&this.filledInput}},select:{class:{col:!0,"select-container":!0}},input:{class:{col:!0,"input-container":!0}}}}getSelectValue(){return this.ctrlValue&&this.ctrlValue.selectValue?this.ctrlValue.selectValue:this.selectOptions&&this.selectOptions.length>0?this.selectOptions[0].value:void 0}getInputValue(){return this.ctrlValue&&this.ctrlValue.inputValue?this.ctrlValue.inputValue:""}getTextColor(){return this.isBlocked()?"onsurface-600":this.disabled?"onsurface-300":"error"===this.state?"error":"onsurface-800"}isValidValue(e){let t=!1;return this.selectOptions&&this.selectOptions.length>0&&this.selectOptions.forEach(n=>{!t&&JSON.stringify(e)===JSON.stringify(n.value)&&(t=!0)}),t}valueChange(e){e.stopPropagation();const t=e.target;"BCP-SELECT"===t.tagName&&(this.backupValue=Object.assign({},this.backupValue,{selectValue:e.detail})),"BCP-INPUT"===t.tagName&&(this.backupValue=Object.assign({},this.backupValue,{inputValue:e.detail})),this.backupValue.selectValue||this.backupValue.inputValue?JSON.stringify(this.ctrlValue)!==JSON.stringify(this.backupValue)&&(this.ctrlValue=this.backupValue):this.ctrlValue=null}areValidClosestElements(e,t){if(e&&t){const n=e.closest("bcp-input"),c=t.closest("bcp-select"),l=e.closest("bcp-select"),i=t.closest("bcp-input"),o=null!==c&&c.name===this.bcpSelectElementName,r=null!==l&&l.name===this.bcpSelectElementName,p=null!==i&&i.name===this.bcpInputElementName;return null!==n&&n.name===this.bcpInputElementName&&o||r&&p}return!1}render(){const e=this.classAttr();return[(0,c.h)("div",Object.assign({ref:e=>this.containerElement=e},e.selectInput,{onfocusout:e=>{this.disabled||(this.focusSelectInput=this.areValidClosestElements(e.target,e.relatedTarget))}}),(0,c.h)("div",Object.assign({},e.select),(0,c.h)("bcp-select",{ref:e=>this.bcpSelectElement=e,state:this.state,disabled:this.disabled,onCtrlBlur:e=>this.onCtrlBlur(e),onCtrlFocus:e=>this.onCtrlFocus(e),onCtrlClick:e=>this.onCtrlClick(e),onCtrlChange:e=>this.valueChange(e)},(0,c.h)("bcp-select-header",{slot:"header"}),this.selectOptions.map(e=>(0,c.h)("bcp-select-option",{value:e.value,shortName:e.shortName},e.name)))),(0,c.h)("div",Object.assign({},e.input),(0,c.h)("bcp-input",{ref:e=>this.bcpInputElement=e,placeholder:this.placeholder,state:this.state,disabled:this.disabled,minlength:this.minlength,maxlength:this.maxlength,onCtrlBlur:e=>this.onCtrlBlur(e),onCtrlFocus:e=>this.onCtrlFocus(e),onCtrlClick:e=>this.onCtrlClick(e),onCtrlDrop:e=>this.onCtrlDrop(e),onCtrlChange:e=>this.valueChange(e),mask:this.mask,inputmode:this.inputmode}))),(0,c.h)("bcp-paragraph",{class:"helper-text",family:"regular",size:"sm",color:this.getTextColor()},this.message||"\xa0")]}static get watchers(){return{focusSelectInput:["changeFocusSelectInput"],ctrlValue:["ctrlValueChanged"],selectOptions:["selectOptionsChanged"]}}static get style(){return"bcp-select-input{display:block}bcp-select-input .select-container{max-width:85px}bcp-select-input .select-container bcp-select .dropdown .dropdown-toggle{border-radius:8px 0 0 8px;border-right:0;padding-right:36px}bcp-select-input .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle{margin-top:0;right:9px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}bcp-select-input .select-container bcp-select bcp-paragraph.helper-text{display:none}bcp-select-input .input-container bcp-input .form-group .form-control{border-radius:0 8px 8px 0}bcp-select-input .input-container bcp-input bcp-paragraph.helper-text{display:none}bcp-select-input .select-input-container{margin:0;outline:none}bcp-select-input .select-input-container:not(.filled) .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container:not(.filled) .select-container bcp-select .dropdown .dropdown-toggle{border-color:var(--onsurface-600,#868f9e)}bcp-select-input .select-input-container.filled:hover .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container:hover .select-container bcp-select .dropdown .dropdown-toggle{border-color:var(--primary-400,#0a47f0)}bcp-select-input .select-input-container.filled:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i{color:var(--primary-400,#0a47f0)}bcp-select-input .select-input-container.filled:hover .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container:hover .input-container bcp-input .form-group .form-control{border-color:var(--primary-400,#0a47f0)}bcp-select-input .select-input-container.filled:hover .input-container input::-webkit-input-placeholder,bcp-select-input .select-input-container:hover .input-container input::-webkit-input-placeholder{color:var(--onsurface-800,#606c7f)}bcp-select-input .select-input-container.filled:hover .input-container input::-moz-placeholder,bcp-select-input .select-input-container:hover .input-container input::-moz-placeholder{color:var(--onsurface-800,#606c7f)}bcp-select-input .select-input-container.filled:hover .input-container input:-ms-input-placeholder,bcp-select-input .select-input-container:hover .input-container input:-ms-input-placeholder{color:var(--onsurface-800,#606c7f)}bcp-select-input .select-input-container.filled:hover .input-container input::-ms-input-placeholder,bcp-select-input .select-input-container:hover .input-container input::-ms-input-placeholder{color:var(--onsurface-800,#606c7f)}bcp-select-input .select-input-container.filled:hover .input-container input::placeholder,bcp-select-input .select-input-container:hover .input-container input::placeholder{color:var(--onsurface-800,#606c7f)}bcp-select-input .select-input-container.focus .select-container bcp-select .dropdown .dropdown-toggle{border-color:var(--primary-400,#0a47f0);border-width:2px 0 2px 2px;padding:10px 36px 10px 14px;-webkit-box-shadow:none;box-shadow:none;-webkit-transition:border-color .15s ease-in-out;transition:border-color .15s ease-in-out}bcp-select-input .select-input-container.focus .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i.angle-drop-down-r{color:var(--onsurface-800,#606c7f)}bcp-select-input .select-input-container.focus .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i.angle-drop-up-r{color:var(--primary-400,#0a47f0)}bcp-select-input .select-input-container.focus .input-container bcp-input .form-group .form-control{border-color:var(--primary-400,#0a47f0);border-width:2px;padding:11px 14px;-webkit-box-shadow:none;box-shadow:none;-webkit-transition:border-color .15s ease-in-out;transition:border-color .15s ease-in-out}bcp-select-input .select-input-container.filled .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.filled .select-container bcp-select .dropdown .dropdown-toggle{border-color:var(--onsurface-300,#bfc4cc)}bcp-select-input .select-input-container.filled.invalid .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container.filled.invalid:hover .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container.focus.invalid .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container.focus.invalid:hover .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container.invalid .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container.invalid:hover .select-container bcp-select .dropdown .dropdown-toggle{border-color:var(--error,#e30425)}bcp-select-input .select-input-container.filled.invalid .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container.filled.invalid:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container.focus.invalid .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container.focus.invalid:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container.invalid .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container.invalid:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i{color:var(--error,#e30425)}bcp-select-input .select-input-container.filled.invalid .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.filled.invalid:hover .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.focus.invalid .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.focus.invalid:hover .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.invalid .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.invalid:hover .input-container bcp-input .form-group .form-control{border-color:var(--error,#e30425)}bcp-select-input .select-input-container.disabled .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container.disabled:hover .select-container bcp-select .dropdown .dropdown-toggle{color:var(--onsurface-200,#d2d5dc);border-color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.disabled .select-container bcp-select .dropdown .dropdown-toggle bcp-select-header bcp-paragraph p,bcp-select-input .select-input-container.disabled:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-select-header bcp-paragraph p{color:var(--onsurface-300,#bfc4cc)}bcp-select-input .select-input-container.disabled .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container.disabled:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i{color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.disabled .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.disabled:hover .input-container bcp-input .form-group .form-control{color:var(--onsurface-200,#d2d5dc);border-color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.disabled .input-container input::-webkit-input-placeholder,bcp-select-input .select-input-container.disabled:hover .input-container input::-webkit-input-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.disabled .input-container input::-moz-placeholder,bcp-select-input .select-input-container.disabled:hover .input-container input::-moz-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.disabled .input-container input:-ms-input-placeholder,bcp-select-input .select-input-container.disabled:hover .input-container input:-ms-input-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.disabled .input-container input::-ms-input-placeholder,bcp-select-input .select-input-container.disabled:hover .input-container input::-ms-input-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.disabled .input-container input::placeholder,bcp-select-input .select-input-container.disabled:hover .input-container input::placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.blocked .select-container bcp-select .dropdown .dropdown-toggle,bcp-select-input .select-input-container.blocked:hover .select-container bcp-select .dropdown .dropdown-toggle{border-color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.blocked .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i,bcp-select-input .select-input-container.blocked:hover .select-container bcp-select .dropdown .dropdown-toggle bcp-icon.select-icon-angle i{color:var(--onsurface-600,#868f9e)}bcp-select-input .select-input-container.blocked .input-container bcp-input .form-group .form-control,bcp-select-input .select-input-container.blocked:hover .input-container bcp-input .form-group .form-control{color:var(--onsurface-600,#868f9e);border-color:var(--onsurface-200,#d2d5dc)}bcp-select-input .select-input-container.blocked .input-container input::-webkit-input-placeholder,bcp-select-input .select-input-container.blocked:hover .input-container input::-webkit-input-placeholder{color:var(--onsurface-600,#868f9e)}bcp-select-input .select-input-container.blocked .input-container input::-moz-placeholder,bcp-select-input .select-input-container.blocked:hover .input-container input::-moz-placeholder{color:var(--onsurface-600,#868f9e)}bcp-select-input .select-input-container.blocked .input-container input:-ms-input-placeholder,bcp-select-input .select-input-container.blocked:hover .input-container input:-ms-input-placeholder{color:var(--onsurface-600,#868f9e)}bcp-select-input .select-input-container.blocked .input-container input::-ms-input-placeholder,bcp-select-input .select-input-container.blocked:hover .input-container input::-ms-input-placeholder{color:var(--onsurface-600,#868f9e)}bcp-select-input .select-input-container.blocked .input-container input::placeholder,bcp-select-input .select-input-container.blocked:hover .input-container input::placeholder{color:var(--onsurface-600,#868f9e)}bcp-select-input bcp-paragraph.helper-text{margin:2px 16px 0}"}}}}]);