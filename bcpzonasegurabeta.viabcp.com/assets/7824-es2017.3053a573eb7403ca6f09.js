"use strict";(self.webpackChunkciam=self.webpackChunkciam||[]).push([[7824],{7824:function(t,c,a){a.r(c),a.d(c,{bcp_captcha:function(){return e}});var n=a(8239),i=a(95240);class e{constructor(t){(0,i.r)(this,t),this.filledInput=!1,this.focusInput=!1,this.disabled=!1,this.ctrlValue="",this.ctrlBlur=(0,i.c)(this,"ctrlBlur",7),this.ctrlChange=(0,i.c)(this,"ctrlChange",7),this.ctrlClick=(0,i.c)(this,"ctrlClick",7),this.ctrlFocus=(0,i.c)(this,"ctrlFocus",7),this.ctrlTextClick=(0,i.c)(this,"ctrlTextClick",7)}changeFocusInput(){this.focusInput?this.ctrlFocus.emit():this.ctrlBlur.emit()}ctrlValueChanged(){this.filledInput=!!this.ctrlValue,this.bcpInputElement&&this.ctrlValue!==this.bcpInputElement.ctrlValue&&(this.bcpInputElement.ctrlValue=this.ctrlValue),this.ctrlChange.emit(this.ctrlValue)}componentDidLoad(){this.bcpInputElement&&this.divImgElement&&(this.bcpInputElementName=this.bcpInputElement.name,this.divImgElementName="div-img-"+this.bcpInputElementName,this.divImgElement.setAttribute("name",this.divImgElementName)),this.ctrlValue&&this.bcpInputElement&&(this.filledInput=!0)}classAttr(){return{captcha:{class:{row:!0,"no-gutters":!0,"captcha-container":!0,invalid:!this.disabled&&"error"===this.state,disabled:this.disabled,focus:!this.disabled&&this.focusInput,filled:!this.disabled&&!this.focusInput&&this.filledInput}},image:{class:{col:!0,"image-container":!0}},input:{class:{col:!0,"input-container":!0}}}}onDivImgClick(){var t=this;return(0,n.Z)(function*(){t.disabled||(t.ctrlClick.emit(),t.bcpInputElement&&(yield t.bcpInputElement.getInputElement()).focus())})()}onTextClick(t){t.stopPropagation(),this.ctrlTextClick.emit()}onButtonBlur(t){t.stopPropagation()}onButtonFocus(t){t.stopPropagation()}onCtrlClick(t){t.stopPropagation(),this.disabled||this.ctrlClick.emit()}onCtrlBlur(t){t.stopPropagation()}onCtrlFocus(t){t.stopPropagation(),this.focusInput||(this.focusInput=!0)}valueChange(t){t.stopPropagation(),this.ctrlValue=t.detail}areValidClosestElements(t,c){if(t&&c){const a=t.closest("bcp-input"),n=c.closest("div.image-container"),i=t.closest("div.image-container"),e=c.closest("bcp-input"),o=null!==a&&a.name===this.bcpInputElementName,r=null!==n&&n.getAttribute("name")===this.divImgElementName,p=null!==i&&i.getAttribute("name")===this.divImgElementName,l=null!==e&&e.name===this.bcpInputElementName;return o&&r||p&&l}return!1}render(){const t=this.classAttr();return[(0,i.h)("div",Object.assign({},t.captcha,{onfocusout:t=>{this.disabled||(this.focusInput=this.areValidClosestElements(t.target,t.relatedTarget))}}),(0,i.h)("bcp-img",{src:this.src,height:48,width:127,class:"img-captcha"}),(0,i.h)("div",Object.assign({ref:t=>this.divImgElement=t},t.image,{tabindex:"-1",onClick:()=>this.onDivImgClick()})),(0,i.h)("div",Object.assign({},t.input),(0,i.h)("bcp-input",{ref:t=>this.bcpInputElement=t,state:this.state,disabled:this.disabled,placeholder:this.placeholder,minlength:this.minlength,maxlength:this.maxlength,"ctrl-value":this.ctrlValue,onCtrlBlur:t=>this.onCtrlBlur(t),onCtrlFocus:t=>this.onCtrlFocus(t),onCtrlClick:t=>this.onCtrlClick(t),onCtrlChange:t=>this.valueChange(t)}))),(0,i.h)("bcp-button",{shape:"text",size:"md",onCtrlClick:t=>this.onTextClick(t),onCtrlBlur:t=>this.onButtonBlur(t),onCtrlFocus:t=>this.onButtonFocus(t)},this.text)]}static get watchers(){return{focusInput:["changeFocusInput"],ctrlValue:["ctrlValueChanged"]}}static get style(){return"bcp-captcha{display:block}bcp-captcha bcp-img.img-captcha{position:absolute;top:6px;left:0}bcp-captcha bcp-img.img-captcha img{border-radius:8px 0 0 8px}bcp-captcha .image-container{max-width:126px;border:1px solid var(--onsurface-600,#868f9e);border-right:0;border-radius:8px 0 0 8px;overflow:hidden;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}bcp-captcha .input-container bcp-input .form-group{padding-top:0}bcp-captcha .input-container bcp-input .form-group .form-control{border-radius:0 8px 8px 0}bcp-captcha .input-container bcp-input bcp-paragraph.helper-text{display:none}bcp-captcha .captcha-container{position:relative;padding-top:6px;margin:0;outline:none}bcp-captcha .captcha-container:not(.filled) .input-container bcp-input .form-group .form-control{border-color:var(--onsurface-600,#868f9e)}bcp-captcha .captcha-container.filled:hover .image-container,bcp-captcha .captcha-container.filled:hover .input-container bcp-input .form-group .form-control,bcp-captcha .captcha-container:hover .image-container,bcp-captcha .captcha-container:hover .input-container bcp-input .form-group .form-control{border-color:var(--primary-400,#0a47f0)}bcp-captcha .captcha-container.filled:hover .input-container input::-webkit-input-placeholder,bcp-captcha .captcha-container:hover .input-container input::-webkit-input-placeholder{color:var(--onsurface-800,#606c7f)}bcp-captcha .captcha-container.filled:hover .input-container input::-moz-placeholder,bcp-captcha .captcha-container:hover .input-container input::-moz-placeholder{color:var(--onsurface-800,#606c7f)}bcp-captcha .captcha-container.filled:hover .input-container input:-ms-input-placeholder,bcp-captcha .captcha-container:hover .input-container input:-ms-input-placeholder{color:var(--onsurface-800,#606c7f)}bcp-captcha .captcha-container.filled:hover .input-container input::-ms-input-placeholder,bcp-captcha .captcha-container:hover .input-container input::-ms-input-placeholder{color:var(--onsurface-800,#606c7f)}bcp-captcha .captcha-container.filled:hover .input-container input::placeholder,bcp-captcha .captcha-container:hover .input-container input::placeholder{color:var(--onsurface-800,#606c7f)}bcp-captcha .captcha-container.focus .image-container{border-color:var(--primary-400,#0a47f0);border-width:2px 0 2px 2px;-webkit-transition:border-color .15s ease-in-out;transition:border-color .15s ease-in-out}bcp-captcha .captcha-container.focus .input-container bcp-input .form-group .form-control{border-color:var(--primary-400,#0a47f0);border-width:2px;padding:11px 14px;-webkit-box-shadow:none;box-shadow:none;-webkit-transition:border-color .15s ease-in-out;transition:border-color .15s ease-in-out}bcp-captcha .captcha-container.filled .image-container,bcp-captcha .captcha-container.filled .input-container bcp-input .form-group .form-control{border-color:var(--onsurface-300,#bfc4cc)}bcp-captcha .captcha-container.filled.invalid .image-container,bcp-captcha .captcha-container.filled.invalid .input-container bcp-input .form-group .form-control,bcp-captcha .captcha-container.filled.invalid:hover .image-container,bcp-captcha .captcha-container.filled.invalid:hover .input-container bcp-input .form-group .form-control,bcp-captcha .captcha-container.focus.invalid .image-container,bcp-captcha .captcha-container.focus.invalid .input-container bcp-input .form-group .form-control,bcp-captcha .captcha-container.focus.invalid:hover .image-container,bcp-captcha .captcha-container.focus.invalid:hover .input-container bcp-input .form-group .form-control,bcp-captcha .captcha-container.invalid .image-container,bcp-captcha .captcha-container.invalid .input-container bcp-input .form-group .form-control,bcp-captcha .captcha-container.invalid:hover .image-container,bcp-captcha .captcha-container.invalid:hover .input-container bcp-input .form-group .form-control{border-color:var(--error,#e30425)}bcp-captcha .captcha-container.disabled .image-container,bcp-captcha .captcha-container.disabled:hover .image-container{border-color:var(--onsurface-200,#d2d5dc);cursor:not-allowed}bcp-captcha .captcha-container.disabled .input-container bcp-input .form-group .form-control,bcp-captcha .captcha-container.disabled:hover .input-container bcp-input .form-group .form-control{color:var(--onsurface-200,#d2d5dc);border-color:var(--onsurface-200,#d2d5dc)}bcp-captcha .captcha-container.disabled .input-container input::-webkit-input-placeholder,bcp-captcha .captcha-container.disabled:hover .input-container input::-webkit-input-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-captcha .captcha-container.disabled .input-container input::-moz-placeholder,bcp-captcha .captcha-container.disabled:hover .input-container input::-moz-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-captcha .captcha-container.disabled .input-container input:-ms-input-placeholder,bcp-captcha .captcha-container.disabled:hover .input-container input:-ms-input-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-captcha .captcha-container.disabled .input-container input::-ms-input-placeholder,bcp-captcha .captcha-container.disabled:hover .input-container input::-ms-input-placeholder{color:var(--onsurface-200,#d2d5dc)}bcp-captcha .captcha-container.disabled .input-container input::placeholder,bcp-captcha .captcha-container.disabled:hover .input-container input::placeholder{color:var(--onsurface-200,#d2d5dc)}"}}}}]);